@model FoundersPC.RequestResponseShared.Request.Authentication.UserForgotPasswordRequest
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    <link
        href="~/css/authstyles.css"
        rel="stylesheet">
}

<div
    class="sidenav">
    <div
        class="login-main-text">
        <h2>
            FoundersPC
            <br> Forgot password Page
        </h2>
        <p>Restore the password from here to log in and access the API.</p>
    </div>
</div>
<div
    class="main">
    <div
        class="col-md-9 col-sm-12
                mt-xxl-0 mt-xl-0 mt-lg-0 mt-md-4 mt-sm-4 mt-4">
        <div
            class="forgotpassword-form">
            <form
                asp-action="ForgotPassword"
                asp-controller="Authentication"
                id="forgotPassword-form"
                method="post">
                <div
                    asp-validation-summary="ModelOnly"
                    class="text-danger">
                </div>
                <div
                    class="form-label-group">
                    <div
                        class="input-group">
                        <input
                            class="bg-dark form-control text-light"
                            id="inputEmail"
                            placeholder="Email address">
                        <label>Email address</label>
                    </div>
                </div>
                <span
                    asp-validation-for="Email"
                    class="text-danger">
                </span>
                <div
                    class="form-group mt-4">
                    <input
                        class="btn btn-success"
                        id="restorePasswordBtn"
                        type="submit"
                        value="Restore the password">
                </div>
            </form>
            <hr
                class="hr-runner"/>
            <div
                class="d-block">
                <div
                    class="mt-3">
                    <a
                        asp-action="SignIn"
                        asp-controller="Authentication"
                        class="btn btn-outline-info">
                        Remember my password!
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<div
    aria-hidden="true"
    aria-labelledby="staticBackdropLabel"
    class="fade modal"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    id="staticBackdrop"
    role="dialog"
    tabindex="-1">
    <div
        class="modal-dialog">
        <div
            class="modal-content">
            <div
                class="modal-header">
                <h5
                    class="modal-title"
                    id="staticBackdropLabel">
                    Modal title
                </h5>
                <button
                    aria-label="Close"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    type="button">
                </button>
            </div>
            <div
                class="modal-body">
                <div>
                    <p>
                        Check your email for new password. Don't forget it :)
                    </p>
                    <label
                        id="modalEmailLabel">
                    </label>
                </div>
            </div>
            <div
                class="modal-footer">
                <button
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                    type="button">
                    Close
                </button>
                <button
                    class="btn btn-primary"
                    type="button">
                    Understood
                </button>
            </div>
        </div>
    </div>
</div>

@section Scripts
{
    <script
        src="~/lib/jquery-validation/dist/jquery.validate.js"></script>
    <script
        src="~/lib/jquery-validation/dist/additional-methods.js"></script>
    <script
        src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#forgotPassword-form').on('submit',
                function(e) {
                    const enteredEmail = $('#inputEmail').val();
                    $('#modalEmailLabel').html(`Email: ${enteredEmail}`);
                    $('#staticBackdrop').modal('show');
                    e.preventDefault();
                    $('#forgotPassword-form').submit();
                });
        });
    </script>
}